# gde-devops-project
Czell√°r Bence Attila (AXUYQ!) beadand√≥ja GDE DEVOPS t√°rgyb√≥l


üõ†Ô∏è GDE B-DEVOPS Beadand√≥ Projekt

Ez a projekt a GDE B-DEVOPS t√°rgy keret√©ben k√©sz√ºlt, bemutatva egy egyszer≈± Python alap√∫ webalkalmaz√°s kont√©neriz√°l√°s√°t √©s a GitLab CI/CD pipeline haszn√°lat√°t a Continuous Integration (CI) folyamat megval√≥s√≠t√°s√°ra.

1. Alkalmaz√°s

Programnyelv: Python (Flask web framework)

L√©nyeg:
Az alkalmaz√°s egy rendk√≠v√ºl egyszer≈± HTTP szerver, amely a 8080-as porton figyel. K√©t v√©gpontot defini√°l:
    /: Alapvet≈ë inform√°ci√≥kat ad vissza JSON form√°tumban.
    /status: Ez a f≈ë v√©gpont, amely egy HTTP 200 (OK) st√°tuszk√≥ddal v√°laszol, √©s tartalmazza a feladat √°ltal k√©rt, szabadon v√°lasztott egyedi √ºzenetet (GDE B-DEVOPS beadand√≥ K√âSZ).

Unit Test
A projekt tartalmaz egy darab unit tesztet, amely a Flask be√©p√≠tett tesztkliens√©t haszn√°lja. A teszt ellen≈ërzi, hogy a /status v√©gpont:
    Sikeresen v√°laszol-e (HTTP 200).
    Tartalmazza-e a meghat√°rozott √ºzenetet.

2. Dockerfile √©s Kont√©neriz√°l√°s
A Dockerfile felel≈ës a Python k√≥d futtathat√≥ Docker image-g√© alak√≠t√°s√°√©rt.

A Dockerfile l√©nyegi l√©p√©sei:
    FROM python:3.11-slim: Egy minimalista Python image-et haszn√°l alapk√©nt, ami cs√∂kkenti a v√©gs≈ë image m√©ret√©t.
    WORKDIR /app: Be√°ll√≠tja a munkak√∂nyvt√°rat a kont√©ner belsej√©ben.
    COPY requirements.txt . / RUN pip install -r requirements.txt: El≈ësz√∂r bem√°solja a f√ºgg≈ës√©gek list√°j√°t, majd telep√≠ti azokat (Flask, gunicorn). Ez optimaliz√°lja a Docker cache-el√©s√©t.
    COPY . .: Bem√°solja az √∂sszes t√∂bbi k√≥df√°jlt (app.py, test_app.py, stb.).
    EXPOSE 8080: Dokument√°lja, hogy a kont√©ner a 8080-as porton figyel.
    CMD ["gunicorn", ...]: A gunicorn nev≈± robusztus webkiszolg√°l√≥t haszn√°lja az alkalmaz√°s elind√≠t√°s√°hoz a 8080-as porton.

Helyi Build √©s Futtat√°s

A Docker image helyi k√∂rnyezetben (ahol fut√≥ Docker Daemon/Docker Desktop van) a k√∂vetkez≈ë parancsokkal √°ll√≠that√≥ el≈ë √©s ind√≠that√≥ el:

1. Image El≈ë√°ll√≠t√°sa

L√©trehozza a "devops-app" nev≈± image-et, 1.0 taggel, a jelenlegi k√∂nyvt√°rban l√©v≈ë Dockerfile alapj√°n.
docker build -t devops-app:1.0 .


2. Kont√©ner Futtat√°sa

Elind√≠tja az image-et a h√°tt√©rben (-d)
√Åtir√°ny√≠tja a kont√©ner 8080-as portj√°t (-p) a helyi g√©p 8080-as portj√°ra.
Nevezi a kont√©nert "devops-container"-nek.
docker run -d -p 8080:8080 --name devops-container devops-app:1.0


3. Tesztel√©s

curl http://localhost:8080/status


3. CI Pipeline
A CI folyamat a .gitlab-ci.yml f√°jlban van defini√°lva, √©s automatikusan lefut minden k√≥dv√°ltoz√°s (push) eset√©n.

Stage-ek
A pipeline k√©t f≈ë szakaszra van osztva, amelyek csak a megel≈ëz≈ë szakasz sikeres befejez√©se ut√°n futnak le:

test --> unit_test_job --> Telep√≠ti a f√ºgg≈ës√©geket, futtatja a unit teszteket (python3 test_app.py). --> Unit-test sikeres futtat√°sa
test --> unit_test_job --> L√©trehoz egy test_report.txt nev≈± f√°jlt. --> Egy szabadon v√°laszthat√≥ artifact kiad√°sa
build_image --> build_and_push_image --> Bel√©p a GitLab Registry-be, elk√©sz√≠ti a Docker image-et, majd felt√∂lti azt a publikus registrybe. --> Docker image el≈ë√°ll√≠t√°sa √©s felt√∂lt√©se

A build_and_push_image job logik√°ja
    Login: Bejelentkez√©s a GitLab Image Registry-be a be√©p√≠tett CI v√°ltoz√≥kkal ($CI_REGISTRY_USER, $CI_REGISTRY_PASSWORD)
    Build: docker build -t $IMAGE_TAG . parancs kiad√°sa a Dockerfile alapj√°n.
    Push: docker push $IMAGE_TAG parancs, amivel a frissen el≈ë√°ll√≠tott image felker√ºl a nyilv√°nos GitLab Registrybe (pl. registry.gitlab.com/felhaszn√°l√≥/projekt:SHA).